# =====================================================
# PromptMinder 环境变量配置示例
# =====================================================
# 复制此文件为 .env 并根据需要修改配置

# =====================================================
# 基础数据库配置
# =====================================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=promptminder
POSTGRES_PASSWORD=promptminder
POSTGRES_DB=promptminder
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =====================================================
# JWT 认证配置
# =====================================================
# JWT 密钥 (必须设置，至少32字符)
JWT_SECRET=super-secret-jwt-key-with-at-least-32-characters-1234
JWT_EXPIRY=3600
PGRST_JWT_SECRET=${JWT_SECRET}

# =====================================================
# Supabase 密钥配置
# =====================================================
# Supabase 匿名密钥 (必须设置)
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzY0MTIyODc4LCJleHAiOjIwNzk0ODI4Nzh9.Bxk91Yk7lXISyskBc_JGPSJNKYETXZW6wQxbk5GNdu0
# Supabase 服务角色密钥 (必须设置)
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaXNzIjoic3VwYWJhc2UiLCJpYXQiOjE3NjQxMjI4NzgsImV4cCI6MjA3OTQ4Mjg3OH0.Pz7AU6OjL63f6dUza89Zt3cfXdY_sT75WRNBAlUnXZg

# =====================================================
# API 网关配置
# =====================================================
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# =====================================================
# Studio 配置
# =====================================================
STUDIO_PORT=3000
STUDIO_DEFAULT_ORGANIZATION=PromptMinder
STUDIO_DEFAULT_PROJECT=Default Project
# Postgres Meta 加密密钥 (必须设置)
PG_META_CRYPTO_KEY=your-pg-meta-crypto-key-32-chars

# =====================================================
# 邮件配置 (可选)
# =====================================================
# SMTP_ADMIN_EMAIL=admin@promptminder.local
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_SENDER_NAME=PromptMinder
# 邮件相关路径配置
# MAILER_URLPATHS_INVITE=/auth/v1/verify
# MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
# MAILER_URLPATHS_RECOVERY=/auth/v1/verify
# MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify

# 邮件功能开关
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false

# =====================================================
# 短信配置 (可选)
# =====================================================
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false

# =====================================================
# 日志分析配置
# =====================================================
# Logflare 访问令牌 (必须设置)
LOGFLARE_PUBLIC_ACCESS_TOKEN=your-logflare-public-token
LOGFLARE_PRIVATE_ACCESS_TOKEN=your-logflare-private-token

# =====================================================
# 数据库连接池配置
# =====================================================
POOLER_PROXY_PORT_TRANSACTION=6543
POOLER_TENANT_ID=promptminder
POOLER_DEFAULT_POOL_SIZE=15
POOLER_MAX_CLIENT_CONN=100
POOLER_DB_POOL_SIZE=5

# =====================================================
# 应用配置
# =====================================================
API_EXTERNAL_URL=http://localhost:8000
SITE_URL=http://localhost:3000
SUPABASE_URL=http://kong:8000
SUPABASE_PUBLIC_URL=http://localhost:8000
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=your-dashboard-password

# =====================================================
# 其他配置
# =====================================================
# OpenAI API 密钥 (可选，用于 AI 功能)
OPENAI_API_KEY=
# 基础密钥 (必须设置)
SECRET_KEY_BASE=your-secret-key-base-at-least-32-chars
# 保险箱加密密钥 (必须设置)
VAULT_ENC_KEY=your-vault-encryption-key-32-chars
DOCKER_SOCKET_LOCATION=/var/run/docker.sock
IMGPROXY_ENABLE_WEBP_DETECTION=true
FUNCTIONS_VERIFY_JWT=true
PGRST_DB_SCHEMAS=public
ADDITIONAL_REDIRECT_URLS=
DISABLE_SIGNUP=false
ENABLE_ANONYMOUS_USERS=false

# =====================================================
# PromptMinder 应用配置
# =====================================================
# 应用认证密钥 (至少32字符)
AUTH_SECRET=your-auth-secret-key-min-32-chars
# 管理员用户名列表 (多个用逗号分隔)
ADMIN_USERNAMES=admin
# 应用基础 URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# =====================================================
# AI 服务配置 (用于 Prompt 优化和测试功能)
# =====================================================
CUSTOM_API_KEY=sk-
CUSTOM_API_URL=https://
CUSTOM_MODEL_NAME=deepseek-v3

# =====================================================
# MinIO 配置 (可选)
# =====================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin